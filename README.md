# üí≥ CreditLab

**CreditLab** ‚Äî –º–æ–¥—É–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞-—Å–∏–º—É–ª—è—Ç–æ—Ä –∫—Ä–µ–¥–∏—Ç–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã (–Ω–∞–±–æ—Ä API).  
–ü—Ä–æ–µ–∫—Ç —Å–ª—É–∂–∏—Ç —É—á–µ–±–Ω–æ–π/—Ç–µ—Å—Ç–æ–≤–æ–π –ø–ª–æ—â–∞–¥–∫–æ–π –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è: –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ SSN, —Ä–∞—Å—á—ë—Ç FICO-–ø–æ–¥–æ–±–Ω–æ–≥–æ —Å–∫–æ—Ä–∏–Ω–≥–∞, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ –≤ —Å–µ—Ç—å –±–∞–Ω–∫–æ–≤ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤.

> –í—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∏–º–µ–Ω–∞ –≤ README —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ—à–µ–Ω–∏—é: `CreditLab.sln`  
> –ü—Ä–æ–µ–∫—Ç—ã:
> - `MediatorServer` ‚Äî (–Ω–∞—à —Å–µ—Ä–≤–µ—Ä)
> - `CreditDataHub.API` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫/—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ—Ñ–∏–ª–µ–π
> - `FiscoEmulator.API` ‚Äî —ç–º—É–ª—è—Ç–æ—Ä —Å–∫–æ—Ä–∏–Ω–≥–∞
> - `BankingEmulator.API` ‚Äî —ç–º—É–ª—è—Ç–æ—Ä –±–∞–Ω–∫–æ–≤
> - `Shared.Core` ‚Äî –æ–±—â–∏–µ DTO/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã/—Å—É—â–Ω–æ—Å—Ç–∏
> - `Shared.Infrastructure` ‚Äî –æ–±—â–∏–π –ª–æ–≥–≥–µ—Ä/—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è/—É—Ç–∏–ª–∏—Ç—ã
> - `Shared.Tests` ‚Äî –º–µ—Å—Ç–æ –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤ (xUnit)

---

## üîé –ë—ã—Å—Ç—Ä—ã–π –æ–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

CreditLab (Solution)

‚îÇ

‚îú‚îÄ‚îÄ CreditDataHub.API ‚Üí –≠–º—É–ª–∏—Ä—É–µ—Ç –≤–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (SSN, –¥–æ—Ö–æ–¥, –¥–æ–ª–≥–∏, –∏—Å—Ç–æ—Ä–∏—è)

‚îú‚îÄ‚îÄ FiscoEmulator.API ‚Üí –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫—Ä–µ–¥–∏—Ç–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (—ç–º—É–ª—è—Ç–æ—Ä FICO¬Æ Score)

‚îú‚îÄ‚îÄ BankingEmulator.API ‚Üí –≠–º—É–ª–∏—Ä—É–µ—Ç –±–∞–Ω–∫–∏, –ø—Ä–µ–¥–ª–∞–≥–∞—é—â–∏–µ –∫—Ä–µ–¥–∏—Ç—ã –ø–æ —Å–∫–æ—Ä–∏–Ω–≥—É –∫–ª–∏–µ–Ω—Ç–∞

‚îú‚îÄ‚îÄ MediatorServer ‚Üí –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å–µ API –∏ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É –∑–∞ –∑–∞–ø—Ä–æ—Å—ã

‚îÇ

‚îú‚îÄ‚îÄ Shared.Core ‚Üí –û–±—â–∏–µ DTO, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

‚îú‚îÄ‚îÄ Shared.Infrastructure ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–∏–¥–ª–≤–∞—Ä—ã, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

‚îú‚îÄ‚îÄ Shared.Tests ‚Üí –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤ (xUnit)

‚îÇ

‚îî‚îÄ‚îÄ README.md # –≠—Ç–æ—Ç —Ñ–∞–π–ª üòé

---

## üß© –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å

- **CreditDataHub.API**
  - GET `/api/customer/{ssn}` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç).
  - –ü–æ–¥–∫–ª—é—á—ë–Ω EF Core (Postgres) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π.
  - (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π/–±–∞–ª–∞–Ω—Å–∞ –∏–ª–∏ –∞–¥–º–∏–Ω-–æ–ø–µ—Ä–∞—Ü–∏–π.

- **FiscoEmulator.API**
  - POST `/api/score` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `CustomerProfileDto`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `FiscoScoreResultDto` (score, —Ñ–∞–∫—Ç–æ—Ä—ã, —Ä–µ–π—Ç–∏–Ω–≥).

- **BankingEmulator.API**
  - POST `/api/bank/request` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `CreditRequestDto` (tempId, ssn, score, requestedAmount) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ `CreditOfferDto`.

- **MediatorServer**
  - GET `/api/credit/check?ssn={ssn}&amount={amount}` ‚Äî orchestration:
    1. –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —É `CreditDataHub`,
    2. –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –≤ `FiscoEmulator`,
    3. –ø—É–±–ª–∏–∫—É–µ—Ç –∑–∞—è–≤–∫—É –≤ `BankingEmulator`,
    4. –ª–æ–≥–∏—Ä—É–µ—Ç, —Å–ø–∏—Å—ã–≤–∞–µ—Ç –ø–ª–∞—Ç—É (—ç–º—É–ª—è—Ü–∏—è) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- .NET 8 (C#)
- EF Core + Npgsql (PostgreSQL)
- Swagger / OpenAPI
- Dependency Injection (built-in)
- Logging: `Shared.Infrastructure` ‚Üí `IAppLogger<T>` + Request logging middleware
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: xUnit (–≥–æ—Ç–æ–≤–æ –≤ `Shared.Tests`)

---

## üöÄ –ö–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ (–±—ã—Å—Ç—Ä–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)

### 1) –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone <your-repo-url> CreditLab
cd CreditLab
```

### 2) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL (—á–µ—Ä–µ–∑ pgAdmin / –ª–æ–∫–∞–ª—å–Ω–æ / Docker)
–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É: `CreditDataDb`
–ó–∞–ø–æ–º–Ω–∏—Ç—å/—É–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å

### 3) –ù–∞—Å—Ç—Ä–æ–∏—Ç—å appsettings.json
–í–æ –≤—Å–µ—Ö API, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Postgres (`CreditDataHub.API`), –≤ `appsettings.json` —É–∫–∞–∑–∞—Ç—å:
```json
{
  "ConnectionStrings": {
    "PostgresConnection": "Host=localhost;Port=5432;Database=CreditDataDb;Username=postgres;Password=yourpassword"
  }
}
```

### 4) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–±—Ä–∞—Ç—å
```bash
dotnet restore
dotnet build
```

### 5) –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è `CreditDataHub.API`
(–≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Ä–µ—à–µ–Ω–∏—è –∏–ª–∏ –∫–æ—Ä–Ω—è)
```bash
dotnet ef migrations add InitialCreate -p CreditDataHub.API -s CreditDataHub.API
dotnet ef database update -p CreditDataHub.API -s CreditDataHub.API
```
>–ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –µ—Å—Ç—å ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ `dotnet ef database update`.

### 6) –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ (–∫–∞–∂–¥—ã–π –≤ —Å–≤–æ–µ–π –∫–æ–Ω—Å–æ–ª–∏)
–ü—Ä–∏–º–µ—Ä—ã (–ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `launchSettings.json` –∏–ª–∏ `Program.cs`):
```bash
dotnet run --project CreditDataHub.API
dotnet run --project FiscoEmulator.API
dotnet run --project BankingEmulator.API
dotnet run --project MediatorServer
```

### 7) –û—Ç–∫—Ä—ã—Ç—å Swagger UI
–ú—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Swagger UI —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è –ø–æ –∫–æ—Ä–Ω—é (`RoutePrefix = string.Empty`) –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
–û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä:
- `https://localhost:{port-of-MediatorServer}/` ‚Äî MediatorServer Swagger
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö API (–∏—Ö ports —É–∫–∞–∑–∞–Ω—ã –≤ `launchSettings.json`)

---

## üõ† –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ / next steps

- –î–æ–±–∞–≤–∏—Ç—å Redis –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –±—É–¥–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–∞—Ö).
- –î–æ–±–∞–≤–∏—Ç—å Serilog (sink) –¥–ª—è –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª / ELK / Seq / Application Insights.
- –î–æ–±–∞–≤–∏—Ç—å Health Checks (Microsoft.AspNetCore.Diagnostics.HealthChecks).
- –ü–æ–∫—Ä—ã—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã unit-—Ç–µ—Å—Ç–∞–º–∏ (xUnit + Moq).
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å docker-compose.yml –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ + Postgres + Redis.
